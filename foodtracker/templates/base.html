<!DOCTYPE html>
{% load static %}

<html >
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
        <title>{% block title %}Food Tracker{% endblock %}</title>
        <link rel='icon' type='image/x-icon' href='{% static "images/favicon.ico" %}'>
        
        <!-- Icons -->
        <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css' rel='stylesheet'>

        <!-- Fonts -->
        <link href='https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap' rel='stylesheet'>

        <!-- Bootstrap CSS -->
        <link href='{% static "css/bootstrap.min.css" %}' rel='stylesheet'>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">



        <!-- Custom styles -->
        <link href='{% static "css/style.css" %}' rel='stylesheet'>
    </head>

    <body data-media-url="{% get_media_prefix %}">

        <nav class='navbar navbar-expand-lg navbar-dark '>
            <div class='container-fluid'>
                <a class='navbar-brand' href="{% url 'index' %}">
                    <i class='fas fa-pepper-hot fa-2xl'></i> Food Tracker
                </a>
                <button class='navbar-toggler' type='button' data-bs-toggle='collapse' data-bs-target='#navbarColor' aria-controls='navbarColor' aria-expanded='false' aria-label='Toggle navigation'>
                    <span class='navbar-toggler-icon'></span>
                </button>
                
                <div class='collapse navbar-collapse' id='navbarColor'>
                    <ul class='navbar-nav me-auto'>
                        <li class='nav-item dropdown'>
                            <a class='nav-link' href="{% url 'add_cat' %}">
                                <i class='far fa-plus-square'></i> Add Food Category
                            </a>
                        </li>
                        {% if user.is_authenticated %}
                            <li class='nav-item'>
                                <a class='nav-link' href="{% url 'food_add' %}">
                                    <i class='far fa-plus-square'></i> Add Food Item
                                </a>
                            </li>
                        {% endif %}
                    </ul>

                    <ul class='navbar-nav ms-auto'>
                        {% if user.is_authenticated %}
                        <li class='nav-item dropdown'>
                            <a class='nav-link dropdown-toggle' data-bs-toggle='dropdown' href='#' role='button' aria-haspopup='true' aria-expanded='false'> 
                                <i class='fas fa-user fa-fw fa-lg'></i> <span class="username-display">{{user.username}}</span>
                            </a>
                            <div class='dropdown-menu dropdown-menu-end'>
                                <a class='dropdown-item' href="#">
                                    <i class='fas fa-user'></i> User Profile
                                </a>
                                <div class='dropdown-divider'></div>
                                <a class='dropdown-item' href="{% url 'logout' %}">
                                    <i class='fas fa-sign-out-alt'></i> Log Out
                                </a>
                            </div>
                        </li>
                        {% else %}
                        <li class='nav-item'>
                            <a class='nav-link' href="{% url 'login' %}">
                                <i class='fas fa-sign-in-alt'></i> Log In
                            </a>
                        </li>
                        <li class='nav-item'>
                            <a class='nav-link' href="{% url 'register' %}">
                                <i class='fas fa-user-plus'></i> Register
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>

        <main>
            <div class='container'>
                {% block body %}
                {% endblock %}
            </div>
        </main>

        <footer class='py-4'>
            <div class="footer-container">
                <div class="copyright-container" >
                    Copyright &copy; <script>document.write(new Date().getFullYear())</script>Infobeans. All Rights Reserved
                </div>
                <div class="social-links">
                    <a href="https://twitter.com/i/flow/login?redirect_after_login=%2Finfobeans" class="twitter"><i class="bi bi-twitter"></i></a>
                    <a href="https://www.facebook.com/InfoBeans/" class="facebook"><i class="bi bi-facebook"></i></a>
                    <a href="https://www.youtube.com/user/INFOBEANS" class="instagram"><i class="bi bi-youtube"></i></a>
                    <a href="https://www.linkedin.com/company/infobeans" class="linkedin"><i class="bi bi-linkedin"></i></a>
                  </div>    
            </div>
        </footer>

        {% block script %}
        <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js'></script>
        {% endblock %}

    </body>
</html>